exports.__esModule=!0;var e={gql:!0,HttpLink:!0};exports.default=exports.gql=void 0;var r=require("tslib"),t=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(require("apollo-client"));Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||(exports[r]=t[r]))});var n=require("apollo-link");Object.keys(n).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||(exports[r]=n[r]))});var o=require("apollo-cache-inmemory");Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||(exports[r]=o[r]))});var a=require("apollo-link-http");exports.HttpLink=a.HttpLink;var i,c=require("apollo-link-error"),s=(i=require("graphql-tag"))&&i.__esModule?i:{default:i};exports.gql=s.default;var l=require("ts-invariant");var u=["request","uri","credentials","headers","fetch","fetchOptions","clientState","onError","cacheRedirects","cache","name","version","resolvers","typeDefs","fragmentMatcher"],f=function(e){function t(r){void 0===r&&(r={});if(r){var t=Object.keys(r).filter(function(e){return-1===u.indexOf(e)});t.length}var i=r.request,s=r.uri,f=r.credentials,p=r.headers,h=r.fetch,d=r.fetchOptions,v=r.clientState,b=r.cacheRedirects,y=r.onError,O=r.name,m=r.version,g=r.resolvers,k=r.typeDefs,q=r.fragmentMatcher,_=r.cache;(0,l.invariant)(!_||!b,1),_||(_=b?new o.InMemoryCache({cacheRedirects:b}):new o.InMemoryCache);var w=y?(0,c.onError)(y):(0,c.onError)(function(e){var r=e.graphQLErrors;e.networkError;r&&r.map(function(e){e.message,e.locations,e.path;return!0})}),x=!!i&&new n.ApolloLink(function(e,r){return new n.Observable(function(t){var n;return Promise.resolve(e).then(function(e){return i(e)}).then(function(){n=r(e).subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}).catch(t.error.bind(t)),function(){n&&n.unsubscribe()}})}),j=new a.HttpLink({uri:s||"/graphql",fetch:h,fetchOptions:d||{},credentials:f||"same-origin",headers:p||{}}),M=n.ApolloLink.from([w,x,j].filter(function(e){return!!e})),E=g,P=k,D=q;return v&&(v.defaults&&_.writeData({data:v.defaults}),E=v.resolvers,P=v.typeDefs,D=v.fragmentMatcher),e.call(this,{cache:_,link:M,name:O,version:m,resolvers:E,typeDefs:P,fragmentMatcher:D})||this}return(0,r.__extends)(t,e),t}(t.default);exports.default=f;
